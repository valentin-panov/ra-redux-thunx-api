{"version":3,"sources":["reducers/SliceServiceList.js","reducers/fetchServices.js","components/Loading.js","components/Error.js","components/ServiceEditor.js","components/ServiceFilter.js","components/ServiceListViewer.js","App.js","reportWebVitals.js","store/index.js","index.js"],"names":["counterSlice","createSlice","name","initialState","items","status","editItem","filter","reducers","put","state","action","payload","edit","reset","setFilter","fetchStart","fetchSuccess","fetchError","console","error","actions","fetchServicesThunked","dispatch","getState","a","requestURL","serverURL","fetch","method","headers","Headers","request","ok","toString","startsWith","Error","statusText","json","response","postServiceThunked","params","price","content","body","JSON","stringify","Loading","style","margin","useStyles","makeStyles","theme","root","width","marginTop","spacing","classes","className","Alert","variant","severity","ServiceEditor","match","history","useHistory","useDispatch","store","useSelector","serviceList","useState","id","setId","setName","setPrice","setContent","formReset","useEffect","noValidate","autoComplete","onSubmit","event","preventDefault","push","onNewServiceSubmitHandler","TextField","value","onInput","e","target","label","to","display","textDecoration","Button","color","onClick","type","ServiceFilter","ServiceListViewer","item","toLowerCase","includes","onDeleteHandler","length","map","App","basename","exact","path","render","props","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","logger","next","log","result","configureStore","reducer","middleware","getDefaultMiddleware","concat","thunk","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.51d99275.chunk.js","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\n\nconst initialState = {\n  items: [],\n  status: 'idle',\n  editItem: null,\n  filter: null,\n};\n\nconst counterSlice = createSlice({\n  name: 'serviceList',\n  initialState,\n  reducers: {\n    put(state, action) {\n      state.items = action.payload;\n    },\n    edit(state, action) {\n      state.editItem = action.payload;\n    },\n    reset(state, action) {\n      state.editItem = null;\n    },\n    setFilter(state, action) {\n      state.filter = action.payload;\n    },\n    fetchStart(state, action) {\n      state.status = 'pending';\n    },\n    fetchSuccess(state, action) {\n      state.status = 'success';\n    },\n    fetchError(state, action) {\n      console.error(action.payload);\n      state.status = 'error';\n    },\n  },\n});\n\nexport const {\n  put,\n  edit,\n  reset,\n  setFilter,\n  fetchStart,\n  fetchSuccess,\n  fetchError,\n} = counterSlice.actions;\nexport default counterSlice.reducer;\n","import {\n  put,\n  edit,\n  fetchStart,\n  fetchSuccess,\n  fetchError,\n} from './SliceServiceList';\nimport { serverURL } from '../App';\n\nexport const fetchServicesThunked = () => async (dispatch, getState) => {\n  const method = 'GET';\n  const requestURL = serverURL;\n\n  dispatch(fetchStart());\n  try {\n    const request = await fetch(requestURL, {\n      method: method,\n      headers: new Headers({ 'content-type': 'application/json' }),\n    });\n    if (!request.ok || !request.status.toString().startsWith('2')) {\n      throw new Error(request.statusText);\n    }\n    const response = request.status === 200 ? await request.json() : null;\n\n    dispatch(put(response));\n    dispatch(fetchSuccess());\n  } catch (e) {\n    dispatch(fetchError(e));\n  }\n};\n\nexport const postServiceThunked = (params) => async (dispatch, getState) => {\n  if (!params || !params.name || !params.price || !params.content) {\n    return;\n  }\n  const method = 'POST';\n  const requestURL = serverURL;\n\n  dispatch(fetchStart());\n  try {\n    const request = await fetch(requestURL, {\n      method: method,\n      headers: new Headers({ 'content-type': 'application/json' }),\n      body: JSON.stringify(params),\n    });\n    if (!request.ok || !request.status.toString().startsWith('2')) {\n      throw new Error(request.statusText);\n    }\n\n    dispatch(fetchSuccess());\n    dispatch(fetchServicesThunked());\n  } catch (e) {\n    dispatch(fetchError(e));\n  }\n};\n\nexport const deleteServiceThunked = (params) => async (dispatch, getState) => {\n  if (!params) {\n    return;\n  }\n  const method = 'DELETE';\n  const requestURL = serverURL + `/${params.id}`;\n\n  dispatch(fetchStart());\n  try {\n    const request = await fetch(requestURL, {\n      method: method,\n      headers: new Headers({ 'content-type': 'application/json' }),\n    });\n    if (!request.ok || !request.status.toString().startsWith('2')) {\n      throw new Error(request.statusText);\n    }\n\n    dispatch(fetchSuccess());\n    dispatch(fetchServicesThunked());\n  } catch (e) {\n    dispatch(fetchError(e));\n  }\n};\n\nexport const fetchServiceThunked = (params) => async (dispatch, getState) => {\n  if (!params.id) {\n    return;\n  }\n  const method = 'GET';\n  const requestURL = serverURL + `/${params.id}`;\n\n  dispatch(fetchStart());\n  try {\n    const request = await fetch(requestURL, {\n      method: method,\n      headers: new Headers({ 'content-type': 'application/json' }),\n    });\n    if (!request.ok || !request.status.toString().startsWith('2')) {\n      throw new Error(request.statusText);\n    }\n    const response = request.status === 200 ? await request.json() : null;\n\n    dispatch(edit(response));\n    dispatch(fetchSuccess());\n  } catch (e) {\n    dispatch(fetchError(e));\n  }\n};\n","import React from 'react';\nimport { TailSpin } from 'svg-loaders-react';\n\nexport default function Loading() {\n  return (\n    <div style={{ margin: '0.5vmin' }}>\n      <TailSpin />\n    </div>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Alert from '@material-ui/lab/Alert';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    '& > * + *': {\n      marginTop: theme.spacing(2),\n    },\n  },\n}));\n\nexport default function Error() {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root + ' shadow'} style={{ margin: '0.5vmin' }}>\n      <Alert variant='filled' severity='error'>\n        Произошла ошибка!\n      </Alert>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { Button, TextField } from '@material-ui/core';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { reset } from '../reducers/SliceServiceList';\nimport {\n  postServiceThunked,\n  fetchServiceThunked,\n} from '../reducers/fetchServices';\nimport Loading from './Loading';\nimport Error from './Error';\n\nexport default function ServiceEditor({ match }) {\n  let history = useHistory();\n  const dispatch = useDispatch();\n  const store = useSelector((store) => store.serviceList);\n  const [id, setId] = useState(match.params.id);\n  const [name, setName] = useState('');\n  const [price, setPrice] = useState('');\n  const [content, setContent] = useState('');\n  const status = store.status;\n\n\n  const onNewServiceSubmitHandler = ({ event, payload }) => {\n    event.preventDefault();\n    dispatch(postServiceThunked(payload));\n    formReset();\n    history.push(`/`);\n  };\n\n  const formReset = () => {\n    setName('');\n    setPrice('');\n    setId('');\n    setContent('');\n    dispatch(reset());\n  };\n\n  useEffect(() => {\n    const editItem = store.editItem;\n    if (editItem) {\n      setId(store.editItem.id);\n      setName(store.editItem.name);\n      setPrice(store.editItem.price);\n      setContent(store.editItem.content);\n    } else {\n      setName('');\n      setPrice('');\n      setId(0);\n      setContent('');\n    }\n  }, [store.editItem]);\n\n  useEffect(() => {\n    dispatch(fetchServiceThunked({ id }));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <>\n      {status === 'pending' && <Loading />}\n      {status === 'error' && <Error />}\n      <div className='card'>\n        <form\n          className={'new-post-input'}\n          noValidate\n          autoComplete='off'\n          onSubmit={(event) => {\n            onNewServiceSubmitHandler({\n              event,\n              payload: { id, name, price, content },\n            });\n          }}\n        >\n          <div className='input-holder'>\n            <TextField\n              value={name}\n              onInput={(e) => setName(e.target.value)}\n              id='name'\n              label='Название'\n              variant='outlined'\n              className={'inputField'}\n            />\n            <TextField\n              value={price}\n              onInput={(e) => setPrice(e.target.value)}\n              id='price'\n              label='Стоимость'\n              variant='outlined'\n              className={'inputField'}\n            />\n            <TextField\n              value={content}\n              onInput={(e) => setContent(e.target.value)}\n              id='content'\n              label='Описание'\n              variant='outlined'\n              className={'inputField'}\n            />\n          </div>\n          <div className='btn-holder'>\n            <Link to={(`/`)} style={{ display: 'flex', textDecoration: 'none' }}>\n              <Button\n                variant='contained'\n                color='secondary'\n                onClick={() => formReset()}\n              >\n                Cancel\n              </Button>\n            </Link>\n\n            <Button variant='contained' color='primary' type='submit'>\n              Save\n            </Button>\n          </div>\n        </form>\n      </div>\n    </>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { Button, TextField } from '@material-ui/core';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { reset, setFilter } from '../reducers/SliceServiceList';\nimport { postServiceThunked } from '../reducers/fetchServices';\n\nexport default function ServiceFilter() {\n  let history = useHistory();\n  const dispatch = useDispatch();\n  const store = useSelector((store) => store.serviceList);\n  const [id, setId] = useState(0);\n  const [name, setName] = useState('');\n  const [price, setPrice] = useState('');\n\n  const onNewServiceSubmitHandler = ({ event, payload }) => {\n    event.preventDefault();\n    dispatch(postServiceThunked(payload));\n    formReset();\n    history.push(`/`);\n  };\n\n  const formReset = () => {\n    setName('');\n    setPrice('');\n    setId(0);\n    dispatch(reset());\n    history.push(`/`);\n  };\n\n  useEffect(() => {\n    const editItem = store.editItem;\n    if (editItem) {\n      setName(store.editItem.name);\n      setPrice(store.editItem.price);\n      setId(store.editItem.id);\n    } else {\n      setName('');\n      setPrice('');\n      setId(0);\n    }\n  }, [store.editItem]);\n\n  useEffect(() => {\n    dispatch(setFilter({ name, price }));\n  }, [dispatch, name, price]);\n\n  return (\n    <div className='card'>\n      <form\n        className={'filter-input'}\n        noValidate\n        autoComplete='off'\n        onSubmit={(event) => {\n          onNewServiceSubmitHandler({\n            event,\n            payload: { id, name, price, content: 'Заполните описание' },\n          });\n        }}\n      >\n        <div className='input-holder'>\n          <TextField\n            value={name}\n            onInput={(e) => setName(e.target.value)}\n            id='name'\n            label='Название'\n            variant='outlined'\n            style={{ width: '50%' }}\n          />\n          <TextField\n            value={price}\n            onInput={(e) => setPrice(e.target.value)}\n            id='price'\n            label='Стоимость'\n            variant='outlined'\n            style={{ width: '50%' }}\n          />\n        </div>\n        <div className='btn-holder'>\n          <Button variant='contained' color='primary' type='submit'>\n            Save\n          </Button>\n          {(name || price) && (\n            <Button\n              variant='contained'\n              color='secondary'\n              onClick={() => formReset()}\n            >\n              Cancel\n            </Button>\n          )}\n        </div>\n      </form>\n    </div>\n  );\n}\n","import React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport ServiceFilter from './ServiceFilter';\nimport { useSelector, useDispatch } from 'react-redux';\nimport CloseIcon from '@material-ui/icons/Close';\nimport EditIcon from '@material-ui/icons/Edit';\nimport Loading from './Loading';\nimport Error from './Error';\nimport {\n  fetchServicesThunked,\n  deleteServiceThunked,\n} from '../reducers/fetchServices';\n\nexport default function ServiceListViewer() {\n  const dispatch = useDispatch();\n  let { items, status, filter } = useSelector((store) => store.serviceList);\n\n  useEffect(() => {\n    dispatch(fetchServicesThunked());\n  }, [dispatch]);\n\n  if (filter) {\n    items = items\n      .filter((item) => {\n        return item.name.toLowerCase().includes(filter.name.toLowerCase());\n      })\n      .filter((item) => {\n        return item.price.toString().startsWith(filter.price);\n      });\n  }\n\n  const onDeleteHandler = (id) => {\n    dispatch(deleteServiceThunked({ id }));\n  };\n\n  return (\n    <>\n      <ServiceFilter />\n      {status === 'pending' && <Loading />}\n      {status === 'error' && <Error />}\n\n      {status === 'success' && items.length > 0 && (\n        <ul className='card'>\n          {items.map((item) => (\n            <li className='card_item' key={item.id} data-id={item.id}>\n              <span className='card_item-name'>{item.name}</span>\n              <span className='card_item-price'>{item.price}</span>\n\n              <Link to={`/services/${item.id}`} style={{ display: 'flex' }}>\n                <EditIcon className='icon' />\n              </Link>\n              <CloseIcon\n                className='icon'\n                onClick={() => onDeleteHandler(item.id)}\n              />\n            </li>\n          ))}\n        </ul>\n      )}\n    </>\n  );\n}\n","import React from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from 'react-router-dom';\nimport ServiceEditor from './components/ServiceEditor';\nimport ServiceListViewer from './components/ServiceListViewer';\n\nexport const serverURL = 'https://ra-thunk-redux-back.herokuapp.com/api/services';\n\nexport default function App() {\n  return (\n    <Router basename='/ra-redux-thunx-api'>\n        <Route exact path={`/`}>\n            <Redirect to={`/services`} />\n        </Route>\n\n        <div className='wrapper>'>\n            <div className='container'>\n              <Switch>\n              <Route\n              path={`/services`}\n              exact\n              render={(props) => <ServiceListViewer {...props} />}\n            />\n              <Route\n              path={`/services/:id`}\n              exact\n              render={(props) => <ServiceEditor {...props} />}\n            />\n          </Switch>\n          </div>\n        </div>\n    </Router>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { configureStore } from '@reduxjs/toolkit';\nimport serviceList from '../reducers/SliceServiceList';\nimport thunk from 'redux-thunk';\n\nconst logger = (store) => (next) => (action) => {\n  console.log('dispatchin', action);\n  console.log('prev_state', store.getState());\n  let result = next(action);\n  console.log('next_state', store.getState());\n  return result;\n};\n\nexport default configureStore({\n  reducer: { serviceList },\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware().concat(thunk, logger),\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './App.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport store from './store/index';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}